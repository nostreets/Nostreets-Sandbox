<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <link rel="stylesheet" href="../Content/bootstrap.css" />
    <link rel="stylesheet" href="../Content/material-dashboard.css" />
    <meta charset="utf-8" />
    <title> Nostreets Code Snippets</title>
</head>
<body>
    <div class="container-fluid">
        <div class="row">
            <h2 class="text-center text-primary">Bootstrap Card Builder</h2>
        </div>
        <div class="row" align="center">
            <button class="card-builder-openModal" data-toggle="modal" data-target=".card-builder-formModal">Open Modal</button>
        </div>
        <div class="row">
            <div id="templates-Div"></div>
        </div>
    </div>


    <script src="../Scripts/jquery-3.1.1.js"></script>
    <script src="../Scripts/bootstrap.js"></script>
    <script src="../Scripts/material.min.js"></script>
    <script src="../Scripts/sweetalert2.js"></script>
    <script src="../Javascript/Jquery/BootstrapCardBuilder.js"></script>

    <!--MODAL-->
    <div class="modal fade card-builder-formModal" role="dialog">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Make A Card</h4>
                </div>
                <div class="modal-body">
                    <div class="card">
                        <form id="cmsTemplateForm">
                            <div class="card-content">
                                <div class="form-group">
                                    <label class="control-label">
                                        Template Name
                                        <small>*</small>
                                    </label>
                                    <input type="text" class="form-control" id="cms-FormName" name="cms-FormName" required aria-required="true">
                                    <span class="material-input"></span>
                                </div>
                                <div class="col-sm-3">
                                    <ul class="nav nav-stacked nav-pills">
                                        <li class="active"><a href="#form-sizeTab" data-toggle="tab">Size</a></li>
                                        <li><a href="#form-headerTab" data-toggle="tab">Header</a></li>
                                        <li><a href="#form-contentTab" data-toggle="tab">Content</a></li>
                                        <li><a href="#form-footerTab" data-toggle="tab">Footer</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-9">
                                    <div class="tab-content">
                                        <div class="tab-pane text-center active" id="form-sizeTab">
                                            <h4>Size</h4>
                                            <div id="sizeGroup" class="form-group text-center">
                                                <div class="row">
                                                    <label for="formSize-smCheckbox" class="control-label">Small: <input type="radio" name="size" id="formSize-smCheckbox" class="active" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formSize-mdCheckbox" class="control-label">Medidum: <input type="radio" name="size" id="formSize-mdCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formSize-lgCheckbox" class="control-label">Large: <input type="radio" name="size" id="formSize-lgCheckbox" /></label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="tab-pane text-center" id="form-headerTab">
                                            <h4>Header Content</h4>
                                            <div id="headerContentGroup" class="form-group">
                                                <div class="row">
                                                    <label for="formHeader-textCheckbox" class="control-label">Text <input type="radio" name="header-content" id="formHeader-textCheckbox" class="active" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formHeader-imageCheckbox" class="control-label">Image <input type="radio" name="header-content" id="formHeader-imageCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formHeader-videoCheckbox" class="control-label">Video <input type="radio" name="header-content" id="formHeader-videoCheckbox" /></label>
                                                </div>
                                            </div>
                                            <h4>Header Alignment</h4>
                                            <div id="headerAlignmentGroup" class="form-group text-center">
                                                <div class="row">
                                                    <label for="formHeader-leftCheckbox" class="control-label">Left <input type="radio" name="header-alignment" id="formHeader-leftCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formHeader-middleCheckbox" class="control-label">Middle <input type="radio" name="header-alignment" id="formHeader-middleCheckbox" class="active" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formHeader-rightCheckbox" class="control-label">Right <input type="radio" name="header-alignment" id="formHeader-rightCheckbox" /></label>
                                                </div>
                                            </div>
                                            <div><textarea rows="3" id="headerText"></textarea><input type="url" class="hidden" id="headerUrl" /></div>
                                        </div>
                                        <div class="tab-pane text-center" id="form-contentTab">
                                            <h4>Main Content</h4>
                                            <div id="mainContentGroup" class="form-group text-center">
                                                <div class="row">
                                                    <label for="formContent-textCheckbox" class="control-label">Text <input type="radio" name="main-content" id="formContent-textCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formContent-imageCheckbox" class="control-label">Image <input type="radio" name="main-content" id="formContent-imageCheckbox" class="active" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formContent-videoCheckbox" class="control-label">Video <input type="radio" name="main-content" id="formContent-videoCheckbox" /></label>
                                                </div>
                                            </div>
                                            <h4>Main Alignment</h4>
                                            <div id="mainAlignmentGroup" class="form-group text-center">
                                                <div class="row">
                                                    <label for="formContent-leftCheckbox" class="control-label">Left <input type="radio" name="main-alignment" id="formContent-leftCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formContent-middleCheckbox" class="control-label">Middle <input type="radio" name="main-alignment" id="formContent-middleCheckbox" class="active" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formContent-rightCheckbox" class="control-label">Right <input type="radio" name="main-alignment" id="formContent-rightCheckbox"></label>
                                                </div>
                                            </div>
                                            <div><textarea rows="3" id="contentText"></textarea><input type="url" class="hidden" id="contentUrl" /></div>
                                        </div>
                                        <div class="tab-pane text-center" id="form-footerTab">
                                            <h4>Footer Content</h4>
                                            <div id="footerContentGroup" class="form-group text-center">
                                                <div class="row">
                                                    <label for="formFooter-textCheckbox" class="control-label">Text <input type="radio" name="footer-content" id="formFooter-textCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formFooter-imageCheckbox" class="control-label">Image <input type="radio" name="footer-content" id="formFooter-imageCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formFooter-videoCheckbox" class="control-label">Video <input type="radio" name="footer-content" id="formFooter-videoCheckbox" /></label>
                                                </div>
                                            </div>
                                            <h4>Footer Alignment</h4>
                                            <div id="footerAlignmentGroup" class="form-group text-center">
                                                <div class="row">
                                                    <label for="formFooter-leftCheckbox" class="control-label">Left <input type="radio" name="footer-alignment" id="formFooter-leftCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formFooter-middleCheckbox" class="control-label">Middle <input type="radio" name="footer-alignment" id="formFooter-middleCheckbox" /></label>
                                                </div>
                                                <div class="row">
                                                    <label for="formFooter-rightCheckbox" class="control-label">Right <input type="radio" name="footer-alignment" id="formFooter-rightCheckbox" /></label>
                                                </div>
                                            </div>
                                            <div><textarea rows="3" id="footerText"></textarea><input type="url" class="hidden" id="footerUrl" /></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-footer text-right">
                                    <div class="category form-category">
                                        <small>*</small> Required fields
                                    </div>
                                    <div class="btn-group btn-group-sm">
                                        <button type="button" class="btn btn-round btn-warning " id="cms-btnDisplay">Display</button>
                                        <button type="button" class="btn btn-round btn-info card-builder-formSubmit">Submit</button>
                                        <button type="button" class="btn btn-round btn-default" data-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>

<script type="text/javascript">
    //Globals
    var page = {
        handlers: {}
    };

    //Startup
    $(document).ready(function () {
        page.cmsTemp = null;
        page.cards = [];

        $(".card-builder-formSubmit").on("click", page.handlers.btnSumbit);

        $("#formHeader-textCheckbox").on("click", showHeaderTextInput);
        $("#formHeader-imageCheckbox").on("click", showHeaderUrlInput);
        $("#formHeader-videoCheckbox").on("click", showHeaderUrlInput);

        $("#formContent-textCheckbox").on("click", showContentTextInput);
        $("#formContent-imageCheckbox").on("click", showContentUrlInput);
        $("#formContent-videoCheckbox").on("click", showContentUrlInput);

        $("#formFooter-textCheckbox").on("click", showFooterTextInput);
        $("#formFooter-imageCheckbox").on("click", showFooterUrlInput);
        $("#formFooter-videoCheckbox").on("click", showFooterUrlInput);

        function showHeaderTextInput() { $("#headerText").removeClass("hidden"); $("#headerUrl").addClass("hidden"); }
        function showHeaderUrlInput() { $("#headerUrl").removeClass("hidden"); $("#headerText").addClass("hidden"); }

        function showContentTextInput() { $("#contentText").removeClass("hidden"); $("#contentUrl").addClass("hidden"); }
        function showContentUrlInput() { $("#contentUrl").removeClass("hidden"); $("#contentText").addClass("hidden"); }

        function showFooterTextInput() { $("#footerText").removeClass("hidden"); $("#footerUrl").addClass("hidden"); }
        function showFooterUrlInput() { $("#footerUrl").removeClass("hidden"); $("#footerText").addClass("hidden"); }
    });

    //Btn Handlers
    page.handlers.btnSumbit = function () {
        swal({
            title: "Do you want to save this card?",
            showCancelButton: true
        }).then(function () {
            var card = page.loadPreBuiltCard();
            card = page.buildCard(card);
            card = page.populateCard(card);
            console.log(card);
            page.cards.push(card);
            page.populatePage();
            $(".card-builder-formModal").modal("hide");
        });
    }

    //Client Side Functions
    page.loadPreBuiltCard = function () {
        if ($("#formSize-smCheckbox").is(":checked")) {
            var card = $($("#card").html());
            card.attr("class", "col-md-4 col-sm-6 col-xs-12");
            return card;
        }
        else if ($("#formSize-mdCheckbox").is(":checked")) {
            var card = $($("#card").html());
            card.attr("class", "col-md-8");
            return card;
        }
        else if ($("#formSize-lgCheckbox").is(":checked")) {
            var card = $($("#card").html());
            card.attr("class", "col-md-12");
            return card;
        }
    }

    page.buildCard = function (template) {
        if ($("#formHeader-textCheckbox").is(":checked")) {
            template.find(".card-header").empty();
            var element = $($("#small-Temp").html());
            element.addClass("headerText");
            template.find(".card-header").append(element);
        }
        else if ($("#formHeader-imageCheckbox").is(":checked")) {
            template.find(".card-header").empty();
            var element = $($("#image-Temp").html());
            element.addClass("headerImg");
            template.find(".card-header").append(element);
        }
        else if ($("#formHeader-videoCheckbox").is(":checked")) {
            template.find(".card-header").empty();
            var element = $($("#video-Temp").html());
            element.addClass("headerVid");
            template.find(".card-header").append(element);
        }


        if ($("#formHeader-leftCheckbox").is(":checked")) {
            template.find(".card-header").removeClass("text-center");
            template.find(".card-header").removeClass("pull-right");
            template.find(".card-header").addClass("pull-left");
        }
        else if ($("#formHeader-middleCheckbox").is(":checked")) {
            template.find(".card-header").addClass("text-center");
            template.find(".card-header").removeClass("pull-right");
            template.find(".card-header").removeClass("pull-left");
        }
        else if ($("#formHeader-rightCheckbox").is(":checked")) {
            template.find(".card-header").removeClass("text-center");
            template.find(".card-header").addClass("pull-right");
            template.find(".card-header").removeClass("pull-left");
        }


        if ($("#formContent-textCheckbox").is(":checked")) {
            template.find(".card-content").empty();
            var element = $($("#small-Temp").html());
            element.addClass("contentText");
            template.find(".card-content").append(element);
        }
        else if ($("#formContent-imageCheckbox").is(":checked")) {
            template.find(".card-content").empty();
            var element = $($("#image-Temp").html());
            element.addClass("contentImg");
            template.find(".card-content").append(element);
        }
        else if ($("#formContent-videoCheckbox").is(":checked")) {
            template.find(".card-content").empty();
            var element = $($("#video-Temp").html());
            element.addClass("contentVid");
            template.find(".card-content").append(element);
        }


        if ($("#formContent-leftCheckbox").is(":checked")) {
            template.find(".card-content").removeClass("text-center");
            template.find(".card-content").removeClass("pull-right");
            template.find(".card-content").addClass("pull-left");
        }
        else if ($("#formContent-middleCheckbox").is(":checked")) {
            template.find(".card-content").addClass("text-center");
            template.find(".card-content").removeClass("pull-right");
            template.find(".card-content").removeClass("pull-left");
        }
        else if ($("#formContent-rightCheckbox").is(":checked")) {
            template.find(".card-content").removeClass("text-center");
            template.find(".card-content").addClass("pull-right");
            template.find(".card-content").removeClass("pull-left");
        }


        if ($("#formFooter-textCheckbox").is(":checked")) {
            template.find(".card-footer").empty();
            var element = $($("#small-Temp").html());
            element.addClass("footerText");
            template.find(".card-footer").append(element);
        }
        else if ($("#formFooter-imageCheckbox").is(":checked")) {
            template.find(".card-footer").empty();
            var element = $($("#image-Temp").html());
            element.addClass("footerImg");
            template.find(".card-footer").append(element);
        }
        else if ($("#formFooter-videoCheckbox").is(":checked")) {
            template.find(".card-footer").empty();
            var element = $($("#video-Temp").html());
            element.addClass("footerVid");
            template.find(".card-footer").append(element);
        }


        if ($("#formFooter-leftCheckbox").is(":checked")) {
            template.find(".card-footer").removeClass("text-center");
            template.find(".card-footer").removeClass("pull-right");
            template.find(".card-footer").addClass("pull-left");
        }
        else if ($("#formFooter-middleCheckbox").is(":checked")) {
            template.find(".card-footer").addClass("text-center");
            template.find(".card-footer").removeClass("pull-right");
            template.find(".card-footer").removeClass("pull-left");
        }
        else if ($("#formFooter-rightCheckbox").is(":checked")) {
            template.find(".card-footer").removeClass("text-center");
            template.find(".card-footer").addClass("pull-right");
            template.find(".card-footer").removeClass("pull-left");
        }

        return template;
    }

    page.populateCard = function (builtTemplate) {
        if ($("#formHeader-textCheckbox").is(":checked")) {
            builtTemplate.find(".headerText").text($("#headerText").val());
        }
        else if ($("#formHeader-imageCheckbox").is(":checked")) {
            builtTemplate.find(".headerImg").attr("src", $("#headerUrl").val());
        }
        else if ($("#formHeader-videoCheckbox").is(":checked")) {
            builtTemplate.find(".headerVid").attr("src", $("#headerUrl").val());
        }


        if ($("#formContent-textCheckbox").is(":checked")) {
            builtTemplate.find(".contentText").text($("#contentText").val());
        }
        else if ($("#formContent-imageCheckbox").is(":checked")) {
            builtTemplate.find(".contentImg").text($("#contentUrl").val());
        }
        else if ($("#formContent-videoCheckbox").is(":checked")) {
            builtTemplate.find(".contentVid").text($("#contentUrl").val());
        }


        if ($("#formFooter-textCheckbox").is(":checked")) {
            builtTemplate.find(".footerText").text($("#footerText").val());
        }
        else if ($("#formFooter-imageCheckbox").is(":checked")) {
            builtTemplate.find(".footerImg").text($("#footerUrl").val());
        }
        else if ($("#formFooter-videoCheckbox").is(":checked")) {
            builtTemplate.find(".footerVid").text($("#footerUrl").val());
        }

        return builtTemplate;
    }

    page.populatePage = function () {
        if (page.cards && page.cards[0]) {
            for (var card of page.cards) {
                $("#templates-Div").append(card);
            }
        }
    }
</script>

<script type="text/html" id="card">
    <div>
        <div class="card">
            <div class="row">
                <div class="card-header">
                    <i class="header"></i>
                </div>
            </div>
            <div class="row">
                <div class="card-content">
                    <i class="content"></i>
                </div>
            </div>
            <div class="row">
                <div class="card-footer">
                    <i class="footer"></i>
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="small-Temp">
    <small class="smallText"></small>
</script>

<script type="text/html" id="image-Temp">
    <div class="card-image">
        <img class="img" />
    </div>
</script>

<script type="text/html" id="video-Temp">
    <div class="card-image">
        <iframe class="vid" src="#"></iframe>
    </div>
</script>